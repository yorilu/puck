define(["backbone","text!../templates/game.tpl.html","puck","modelFactory"],function(e,t,n,r){var i=r.get("getGame"),s=e.View.extend({events:{"click .return":"back","click .j_game_tab>li":"switchTab"},tplFun:null,onInit:function(){this.tplFun=_.template(t)},onShow:function(e){var t={gameId:e.args},n=this;i.$post({data:t,success:function(e){n.render(e.data),n.initTabs(e.data)},error:function(){}})},onHide:function(){},render:function(e){var t=this.tplFun(e);this.$el.html(t)},initTabs:function(e){var t=[["gamevideo.view",e]];e.sportType=="basketball"&&(t=[["gameevent.view",e],["gamevideo.view",e],["gamestatistics.view",e]]),this.tabs=n.initTabs(t,this.$el.find(".j_game_tab a"),this.$el.find(".j_game_tab_content div"),this)},back:function(){n.back()},switchTab:function(e){var t=$(e.currentTarget),n="data-chat";if(t.hasClass(n))return;t.siblings().removeClass(n),t.addClass(n)}});return s})